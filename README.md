# ameba_scrapy


为了让我能更快且方便的看到我推的人什么时候发Ameba博客

于是我就写了这个脚本

本脚本运行环境需要可以连通外网，因为会访问日本境内的网站



## 需要安装的库

- requests
  - 用于发送http请求
- lxml
  - 用于解析数据



## 需要准备的数据

在与**entry.py**同路径下需准备一个名叫`data.json`的文件，用于存储一些必要数据，例如发送到哪个邮箱和需要爬取的博客的地址。本脚本支持多用户一起推送。

例如：

```json
[
    {
        "email": "user1's email",
        "data": [
            {
                "url": "url1",
                "cache": ""
            },
            {
                "url": "url2",
                "cache": ""
            }
        ]
    },
    {
        "email": "user1's email",
        "data": [
            {
                "url": "url2",
                "cache": ""
            }
        ]
    }
]
```

解释：

- url为博客地址，访问该地址可获得当前该博主已发布的所有博客的列表信息
- cache为存储的数据，第一次运行可以不用填写，会自动查询并保存。以后每一次运行会比较当前拉取的最新博客的url是否为cache里存储的地址。若不一致，则代表已发新博客，将会自动更新数据



## 关于邮箱推送

需准备好一个已开启SMTP的邮箱，以qq邮箱为例

你需要把推送邮箱的账号和密码填写到send_email函数内





